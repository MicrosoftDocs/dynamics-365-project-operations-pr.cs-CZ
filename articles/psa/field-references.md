---
title: Přidání vlastních polí do nastavení ceny a transakčních entit
description: Toto téma obsahuje informace o přidávání vlastních polí do nastavení ceny a transakčních entit.
author: Rumant
manager: kfend
ms.custom:
- dyn365-projectservice
ms.date: 10/01/2020
ms.topic: article
ms.service: business-applications
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: af2256e77c3ceeee9638f57d971137df1658687b
ms.sourcegitcommit: 418fa1fe9d605b8faccc2d5dee1b04b4e753f194
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 02/10/2021
ms.locfileid: "5148455"
---
# <a name="add-custom-fields-to-price-setup-and-transactional-entities"></a><span data-ttu-id="0fd40-103">Přidání vlastních polí do nastavení ceny a transakčních entit</span><span class="sxs-lookup"><span data-stu-id="0fd40-103">Add custom fields to price setup and transactional entities</span></span> 

[!include [banner](../includes/psa-now-project-operations.md)]

<span data-ttu-id="0fd40-104">Toto téma předpokládá, že jste dokončili postupy v tématu [Vytvoření vlastních polí a entit](create-custom-fields-entities.md).</span><span class="sxs-lookup"><span data-stu-id="0fd40-104">This topic assumes that you have completed the procedures in the topic, [Create custom fields and entities](create-custom-fields-entities.md).</span></span> <span data-ttu-id="0fd40-105">Pokud jste tyto postupy nedokončili, vraťte se zpět, dokončete je a vraťte se k tomuto tématu.</span><span class="sxs-lookup"><span data-stu-id="0fd40-105">If you haven't completed those procedures, go back and complete them and then return to this topic.</span></span> 

<span data-ttu-id="0fd40-106">Postupy v tomto tématu vám ukážou, jak přidat požadované odkazy na vlastní pole do entit a do prvků uživatelského rozhraní (UI), jako jsou formuláře a zobrazení.</span><span class="sxs-lookup"><span data-stu-id="0fd40-106">In this topic, the procedures will show you how to add the required custom field references to entities and to the user interface (UI) elements such as forms and views.</span></span>

## <a name="add-custom-pricing-dimension-fields"></a><span data-ttu-id="0fd40-107">Přidání polí vlastních cenových dimenzí</span><span class="sxs-lookup"><span data-stu-id="0fd40-107">Add custom pricing dimension fields</span></span> 
<span data-ttu-id="0fd40-108">Po vytvoření vlastních polí a entit je dalším krokem pomocí vytvoření referenčních polí informovat nastavení ceny a transakční entity o všech vlastních entitách nebo sadách možností.</span><span class="sxs-lookup"><span data-stu-id="0fd40-108">After custom fields and entities have been created, the next step is to make price setup and transactional entities aware of any custom entities or option sets by creating reference fields.</span></span> <span data-ttu-id="0fd40-109">V závislosti na tom, zda váš seznam cenových dimenzí zahrnuje dimenze sady možností nebo dimenze entit nebo obojí, proveďte pouze příslušné kroky v **Vlastní cenové dimenze založené na sadě možností** nebo **Vlastní cenové dimenze založené na entitě** nebo obojí.</span><span class="sxs-lookup"><span data-stu-id="0fd40-109">Depending on whether your pricing dimensions list includes option set dimensions or entity dimensions or both, follow only the steps in **Option set-based custom pricing dimensions** or **Entity-based custom pricing dimensions**, or both, respectively.</span></span>

### <a name="option-set-based-custom-pricing-dimensions"></a><span data-ttu-id="0fd40-110">Vlastní cenové dimenze založené na sadě možností</span><span class="sxs-lookup"><span data-stu-id="0fd40-110">Option set-based custom pricing dimensions</span></span>
<span data-ttu-id="0fd40-111">Pokud je vlastní cenová dimenze založena na sadě možností, přidejte ji jako pole do klíčových entit Project Service.</span><span class="sxs-lookup"><span data-stu-id="0fd40-111">When a custom pricing dimension is option set-based, add it as a field to key Project Service entities.</span></span> <span data-ttu-id="0fd40-112">V následujícím postupu jsou jako cenové dimenze založené na sadě možností použity **Místo výkonu práce zdroje** a **Pracovní doba zdroje**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-112">In the following procedure, **Resource Work Location** and **Resource Work Hours** are used as the option set-based pricing dimensions.</span></span> <span data-ttu-id="0fd40-113">Tyto je třeba nejprve přidat jako pole do cenových entit **Cena role** a **Přirážka ceny**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-113">These must first be added as fields to the pricing entities, **Role Price** and **Role Price Markup**.</span></span>

1. <span data-ttu-id="0fd40-114">V Project Service Automation (PSA) klikněte na **Nastavení** > **Řešení** a potom dvakrát klikněte na **\<your organization name> cenové dimenze**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-114">In Project Service Automation (PSA), click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="0fd40-115">V Průzkumníku řešení vyberte v levém navigačním podokně **Entity > Cena role**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-115">In Solution Explorer, on the left navigation pane, select **Entities > Role Price**.</span></span>
3. <span data-ttu-id="0fd40-116">Rozbalte entitu **Cena role** a vyberte **Pole**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-116">Expand the entity **Role Price** and select **Fields**.</span></span>
4. <span data-ttu-id="0fd40-117">Kliknutím na **Nové** vytvořte nové pole nazvané **Místo výkonu práce zdroje** a jako typ pole vyberte **Sada možností**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-117">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="0fd40-118">Vyberte **Použít existující sadu možností**, vyberte sadu možností **Místo výkonu práce zdroje** a poté klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-118">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="0fd40-119">Opakováním kroků 1–5 přidejte toto pole do entity **Přirážka ceny role**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-119">Repeat steps 1 - 5 to add this field to the **Role Price Markup** entity.</span></span> 
7. <span data-ttu-id="0fd40-120">Opakujte kroky 1–5 pro sadu možností **Pracovní doba zdroje**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-120">Repeat steps 1 - 5 for the **Resource Work Hours** option set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fd40-121">Přidáte-li pole do více než jedné entity, použijte stejný název pole ve všech entitách.</span><span class="sxs-lookup"><span data-stu-id="0fd40-121">When you add a field to more than one entity, use the same field name across all of the entities.</span></span> 

> ![Přidání Místa výkonu práce zdroje k Ceně role](media/RWL-Field.png)

<span data-ttu-id="0fd40-123">Ve fázích prodeje a odhadu projektu se k odhadu hodnoty Nabídky/Projektu používají odhady pracovního úsilí, které je nutné k dokončení práce **Místní** a **U zákazníka**, v **Běžné pracovní době** a **Přesčasové pracovní době**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-123">In the sales and estimation phases for a project, estimates of the work effort that is required to complete **Local** and **Onsite** work, in **Regular hours** and **Overtime hours**  are used to estimate the value of the Quote/Project.</span></span> <span data-ttu-id="0fd40-124">Pole **Místo výkonu práce zdroje** a **Pracovní doba zdroje** budou přidány do entit odhadu **Podrobnosti řádku nabídky**, **Podrobnosti řádku smlouvy**, **Projektový úkol**, **Člen projektového týmu** a **Řádek odhadu**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-124">The fields **Resource Work Location** and **Resource Work Hours** will be added to the estimation entities, **Quote Line Detail**, **Contract Line detail**, **Project Task**, **Project Team Member**, and **Estimate Line**.</span></span>

1. <span data-ttu-id="0fd40-125">V PSA klikněte na **Nastavení** > **Řešení** a pak dvakrát klikněte na **\<your organization name> cenové dimenze**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-125">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="0fd40-126">V Průzkumníku řešení vyberte v levém navigačním podokně **Entity > Podrobnosti řádku nabídky**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-126">In Solution Explorer, on the left navigation pane, select **Entities > Quote Line Detail**.</span></span>
3. <span data-ttu-id="0fd40-127">Rozbalte entitu **Podrobnosti řádku nabídky** a vyberte **Pole**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-127">Expand the **Quote Line Detail** entity, and select **Fields**.</span></span>
4. <span data-ttu-id="0fd40-128">Kliknutím na **Nové** vytvořte nové pole nazvané **Místo výkonu práce zdroje** a vyberte typ pole **Sada možností**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-128">Click **New** to create a new field called **Resource Work Location** and select the field type, **Option set**.</span></span> 
5. <span data-ttu-id="0fd40-129">Vyberte **Použít existující sadu možností** a **Místo výkonu práce zdroje** a poté klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-129">Select **Use an existing Option set** and **Resource Work Location**, and then click **Save**.</span></span>
6. <span data-ttu-id="0fd40-130">Opakováním kroků 1–5 přidejte toto pole do entit **Podrobnosti řádku projektové smlouvy**, **Projektový úkol**, **Člen projektového týmu** a **Řádek odhadu**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-130">Repeat steps 1 - 5 to add this field to the **Project Contract line detail**,**Project Task**, **Project Team Member**, and **Estimate Line** entities.</span></span>
7. <span data-ttu-id="0fd40-131">Opakujte kroky 1–6 pro sadu možností **Pracovní doba zdroje**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-131">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![Přidání Místa výkonu práce zdroje k Řádku odhadu](media/RWL-Default-Value.png)


<span data-ttu-id="0fd40-133">Pro dodání a fakturaci musí být dokončená práce přesně oceněna, aby bylo možné ve Skutečnostech projektu vybrat, zda byla provedena **Místně** nebo **U zákazníka**, a zda byla dokončena v **Běžné pracovní době** nebo **Přesčasové pracovní době**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-133">For delivery and invoicing, completed work needs to be accurately priced to select whether it was performed **Local** or **Onsite**, and whether it was completed during **Regular hours** or **Overtime** on the Project Actuals.</span></span> <span data-ttu-id="0fd40-134">Pole **Místo výkonu práce zdroje** a **Pracovní doba zdroje** by měla být přidána do entit **Časový záznam**, **Skutečnost**, **Podrobnosti řádku faktury** a **Řádek deníku**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-134">The **Resource Work Location** and **Resource Work hours** fields should be added to the **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>

1. <span data-ttu-id="0fd40-135">V PSA klikněte na **Nastavení** > **Řešení** a pak dvakrát klikněte na **\<your organization name> cenové dimenze**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-135">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span>
2. <span data-ttu-id="0fd40-136">V Průzkumníku řešení vyberte v levém navigačním podokně **Entity > Časový záznam**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-136">In Solution Explorer, on the left navigation pane, select  **Entities > Time Entry**.</span></span>
3. <span data-ttu-id="0fd40-137">Rozbalte entitu **Podrobnosti řádku nabídky** a poté vyberte **Pole**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-137">Expand the **Quote Line Detail** entity, and then select **Fields**.</span></span>
4. <span data-ttu-id="0fd40-138">Kliknutím na **Nové** vytvořte nové pole nazvané **Místo výkonu práce zdroje** a jako typ pole vyberte **Sada možností**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-138">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="0fd40-139">Vyberte **Použít existující sadu možností**, vyberte sadu možností **Místo výkonu práce zdroje** a poté klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-139">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="0fd40-140">Opakováním kroků 1–5 přidejte toto pole k entitám **Skutečnost**, **Podrobnosti řádku faktury** a **Řádek deníku**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-140">Repeat steps 1 - 5 to add this field to the **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>
7. <span data-ttu-id="0fd40-141">Opakujte kroky 1–6 pro sadu možností **Pracovní doba zdroje**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-141">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![Přidání Místa výkonu práce zdroje k Časovému záznamu](media/RWL-time-entry.png)

<span data-ttu-id="0fd40-143">Tím dokončíte změny schématu vyžadované pro vlastní dimenze založené na sadě možností.</span><span class="sxs-lookup"><span data-stu-id="0fd40-143">This completes the schema changes required for option set-based custom dimensions.</span></span>

## <a name="entity-based-custom-pricing-dimensions"></a><span data-ttu-id="0fd40-144">Vlastní cenové dimenze založené na entitě</span><span class="sxs-lookup"><span data-stu-id="0fd40-144">Entity-based custom pricing dimensions</span></span>

<span data-ttu-id="0fd40-145">Pokud je vlastní cenová dimenze entitou, přidáte mezi entitu dimenze a klíčové entity Project Service vztahy 1:N.</span><span class="sxs-lookup"><span data-stu-id="0fd40-145">When the custom pricing dimension is an entity, you will add 1:N relationships between the dimension entity and key Project Service entities.</span></span> <span data-ttu-id="0fd40-146">Při použití výše uvedeného příkladu Standardní funkce lze očekávat, že každému zaměstnanci bude přiřazena standardní funkce.</span><span class="sxs-lookup"><span data-stu-id="0fd40-146">Using the Standard Title example from above, it is reasonable to expect that each employee is assigned a standard title.</span></span> <span data-ttu-id="0fd40-147">V důsledku toho budete potřebovat vztah 1:N ze Standardní funkce do Rezervovatelného zdroje nebo vztah N:1, pokud byl vytvořen z Rezervovatelného zdroje do Standardní funkce.</span><span class="sxs-lookup"><span data-stu-id="0fd40-147">SAs a result, you will need a 1:N relationship from Standard Title to Bookable Resource, or a N:1 relationship if it were created from Bookable Resource to Standard Title.</span></span>

1. <span data-ttu-id="0fd40-148">V PSA klikněte na **Nastavení** > **Řešení** a pak dvakrát klikněte na **\<your organization name> cenové dimenze**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-148">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="0fd40-149">V Průzkumníku řešení vyberte v levém navigačním podokně **Entity > Standardní funkce**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-149">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
3. <span data-ttu-id="0fd40-150">Rozbalte entitu **Standardní funkce** a vyberte **Vztahy 1:N**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-150">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
4. <span data-ttu-id="0fd40-151">Kliknutím na **Nový** vytvoříte nový vztah 1:N nazvaný **Standardní funkce do Rezervovatelného zdroje**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-151">Click **New** to create a new 1:N relationship called **Standard Title to Bookable Resource**.</span></span> <span data-ttu-id="0fd40-152">Zadejte požadované informace a poté klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-152">Enter the required information, and then click **Save**.</span></span>

> ![Přidání Standardní funkce jako referenčního pole do Rezervovatelného zdroje](media/ST-BR.png)

<span data-ttu-id="0fd40-154">Standardní funkci bude také nutné přidat k cenovým entitám Project Service **Cena role** a **Přirážka ceny role**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-154">The Standard Title will also need to be added to Project Service Pricing entities, **Role Price** and **Role Price Markup**.</span></span> <span data-ttu-id="0fd40-155">Toto se také provede pomocí vztahů 1:N mezi entitami **Standardní funkce** a **Cena role** a entitami **Standardní funkce** a **Přirážka ceny role**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-155">This is also completed using 1:N relationships between the **Standard Title** and **Role Price** entities and **Standard Title** and **Role Price Markup** entities.</span></span>

1. <span data-ttu-id="0fd40-156">V Průzkumníku řešení vyberte v levém navigačním podokně **Entity > Standardní funkce**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-156">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="0fd40-157">Rozbalte entitu **Standardní funkce** a vyberte **Vztahy 1:N**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-157">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="0fd40-158">Kliknutím na **Nový** vytvoříte nový vztah 1:N nazvaný **Standardní funkce do Ceny role**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-158">Click **New** to create a new 1:N relationship called **Standard Title to Role Price**.</span></span> <span data-ttu-id="0fd40-159">Zadejte požadované informace a poté klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-159">Enter the required information, and then click **Save**.</span></span>
4. <span data-ttu-id="0fd40-160">Opakováním kroků 1–4 vytvořte vztahy 1:N mezi entitami **Standardní funkce** a **Přirážka ceny role**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-160">Repeat steps 1 - 4 to create 1:N relationships between the **Standard Title** and **Role Price Markup** entities,</span></span>

<span data-ttu-id="0fd40-161">Ve fázích prodeje a odhadu projektu jsou pro ocenění Nabídky/Projektu vyžadovány odhady pracovního úsilí pro každou standardní funkci.</span><span class="sxs-lookup"><span data-stu-id="0fd40-161">In the sales and estimation phases for the project, to price the Quote/Project, estimates of the work effort are required for each standard title.</span></span> <span data-ttu-id="0fd40-162">To znamená, že v Project Service jsou nutné vztahy 1:N ze Standardní funkce ke každé z těchto entit odhadu:</span><span class="sxs-lookup"><span data-stu-id="0fd40-162">This means that 1:N relationships from Standard Title to each of these estimation entities in Project Service are needed:</span></span> 

- <span data-ttu-id="0fd40-163">**Podrobnosti řádku nabídky**</span><span class="sxs-lookup"><span data-stu-id="0fd40-163">**Quote line Detail**</span></span>
- <span data-ttu-id="0fd40-164">**Podrobnosti řádku projektové smlouvy**</span><span class="sxs-lookup"><span data-stu-id="0fd40-164">**Project Contract Line Detail**</span></span>
- <span data-ttu-id="0fd40-165">**Projektový úkol**</span><span class="sxs-lookup"><span data-stu-id="0fd40-165">**Project Task**</span></span>
- <span data-ttu-id="0fd40-166">**Člen projektového týmu**</span><span class="sxs-lookup"><span data-stu-id="0fd40-166">**Project Team Member**</span></span>
- <span data-ttu-id="0fd40-167">**Řádek odhadu**</span><span class="sxs-lookup"><span data-stu-id="0fd40-167">**Estimate Line**</span></span>

5. <span data-ttu-id="0fd40-168">Opakujte kroky 1–5 pro vytvoření vztahů 1:N ze **Standardní funkce** do **Podrobnosti řádku nabídky**, **Podrobnosti řádku projektové smlouvy**, **Projektový úkol**, **Člen projektového týmu** a **Řádek odhadu**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-168">Repeat steps 1 - 5 to create 1:N relationships from **Standard Title** to **Quote line Detail**, **Project Contract Line Detail**, **Project Task**, **Project Team Member**, and **Estimate Line**.</span></span>

> ![Přidání Standardní funkce jako referenčního pole do Řádku odhadu](media/ST-Estimate-Line.png)

<span data-ttu-id="0fd40-170">Ve fázích Dodání a Fakturace musí být práce dokončená každou Standardní funkcí přesně oceněna ve Skutečnostech projektu.</span><span class="sxs-lookup"><span data-stu-id="0fd40-170">In the Delivery and Invoicing phases, the work completed by each standard title must be accurately priced on the Project Actuals.</span></span> <span data-ttu-id="0fd40-171">To znamená, že zde musí být vztahy 1:N ze **Standardní funkce** do **Časový záznam**, **Skutečnost**, **Podrobnosti řádku faktury** a **Entity řádku deníku**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-171">This means that there needs to be 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

6. <span data-ttu-id="0fd40-172">Opakováním kroků 1–6 vytvořte vztahy 1:N ze **Standardní funkce** do **Časový záznam**, **Skutečnost**, **Podrobnosti řádku faktury** a **Entity řádku deníku**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-172">Repeat steps 1 - 6 to create 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

> ![Přidání Standardní funkce jako odkazovaného pole do Časového záznamu](media/ST-Mapping.png)

### <a name="set-up-dimension-value-defaulting-using-the-mappings-features-of-the-platform"></a><span data-ttu-id="0fd40-174">Nastavení výchozí hodnoty Dimenze pomocí funkcí mapování platformy</span><span class="sxs-lookup"><span data-stu-id="0fd40-174">Set up Dimension value defaulting using the mappings features of the platform</span></span>
<span data-ttu-id="0fd40-175">V případě Časového záznamu by bylo užitečné mít systémovou výchozí hodnotou standardní funkci u Časového záznamu z Rezervovatelného zdroje, který časový záznam zaznamenává.</span><span class="sxs-lookup"><span data-stu-id="0fd40-175">For Time Entry, it would be helpful to have the system default the standard title on the Time Entry from the Bookable Resource that is recording the time entry.</span></span> <span data-ttu-id="0fd40-176">Chcete-li přidat mapování polí u vztahu 1:N z **Rezervovatelný zdroj** do **Časový záznam**, použijte následující postup.</span><span class="sxs-lookup"><span data-stu-id="0fd40-176">Use the following steps to add field mappings on the 1:N relationship from **Bookable Resource** to **Time Entry**.</span></span>

1. <span data-ttu-id="0fd40-177">V Průzkumníku řešení vyberte v levém navigačním podokně **Entity > Standardní funkce**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-177">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="0fd40-178">Rozbalte entitu **Standardní funkce** a vyberte **Vztahy 1:N**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-178">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="0fd40-179">Dvakrát klikněte na **Rezervovatelný zdroj do Časového záznamu**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-179">Double-click **Bookable Resource to Time Entry**.</span></span> <span data-ttu-id="0fd40-180">Na stránce **Vztah** klikněte na **Použít mapování polí**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-180">On the **Relationship** page, click **Use Field mappings**.</span></span> 
4. <span data-ttu-id="0fd40-181">Klepnutím na **Nové** vytvoříte nové mapování pole mezi polem **Standardní funkce** u entity **Rezervovatelný prostředek** do odkazovaného pole **Standardní funkce** u entity **Časový záznam**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-181">Click **New** to create a new field mapping between the **Standard Title** field on the **Bookable Resource** entity to the **Standard Title** reference field on **Time Entry** entity.</span></span> 

> ![Nastavení mapování polí, která umožní nastavení výchozí hodnoty Standardní funkce z Rezervovatelného zdroje do Časového záznamu](media/ST-Mapping2.png)


<span data-ttu-id="0fd40-183">Tím dokončíte změny schématu vyžadované pro vlastní dimenze založené na entitě.</span><span class="sxs-lookup"><span data-stu-id="0fd40-183">This completes the schema changes required for entity-based custom dimensions.</span></span>

##  <a name="add-custom-fields-to-forms-views-and-business-rules"></a><span data-ttu-id="0fd40-184">Přidání vlastních polí do formulářů, zobrazení a obchodních pravidel</span><span class="sxs-lookup"><span data-stu-id="0fd40-184">Add custom fields to forms, views, and business rules</span></span>

<span data-ttu-id="0fd40-185">Po provedení všech požadovaných změn schématu je dalším krokem zobrazení polí v uživatelském rozhraní přidáním polí do formulářů a zobrazení.</span><span class="sxs-lookup"><span data-stu-id="0fd40-185">After you have made all of the required schema changes, the next step is to make the fields visible in the UI by adding the fields to the forms and views.</span></span>

1. <span data-ttu-id="0fd40-186">Otevřete formulář nebo zobrazení.</span><span class="sxs-lookup"><span data-stu-id="0fd40-186">Open the form or the view.</span></span> <span data-ttu-id="0fd40-187">V pravém navigačním podokně vyberte pole a přetáhněte ho na plátno formuláře.</span><span class="sxs-lookup"><span data-stu-id="0fd40-187">On the right navigation pane, select the field and drag it on to the form canvas.</span></span> 
2. <span data-ttu-id="0fd40-188">Pokud upravujete zobrazení, použijte pravé navigační podokno, klikněte na **Přidat pole** a v dialogovém okně **Výpis polí** vyberte pole, která potřebujete, a klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-188">If you are editing a view, use the right navigation pane, click **Add fields**, and in the **Field listing** dialog box, select the fields that you need and click **Ok**.</span></span>

<span data-ttu-id="0fd40-189">Následující tabulka obsahuje úplný seznam připravených formulářů a zobrazení, uvedených podle entity, kterou bude nutné pomocí těchto nových polí aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="0fd40-189">The following table provides a comprehensive list of out-of-the-box forms and views, by entity, that will need to be updated with the new fields.</span></span> <span data-ttu-id="0fd40-190">Pokud vaše vlastní nastavení těchto entit obsahují další zobrazení nebo formuláře, přidejte do nich tato nová pole také.</span><span class="sxs-lookup"><span data-stu-id="0fd40-190">If you have any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>

| <span data-ttu-id="0fd40-191">Entita Project Service</span><span class="sxs-lookup"><span data-stu-id="0fd40-191">Project Service Entity</span></span>        | <span data-ttu-id="0fd40-192">Formuláře, které potřebují nové pole</span><span class="sxs-lookup"><span data-stu-id="0fd40-192">Forms that need the new field</span></span>   |<span data-ttu-id="0fd40-193">Zobrazení, která potřebují nové pole</span><span class="sxs-lookup"><span data-stu-id="0fd40-193">Views that need the new field</span></span>      |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="0fd40-194">Cena role</span><span class="sxs-lookup"><span data-stu-id="0fd40-194">Role Price</span></span>|<span data-ttu-id="0fd40-195">• Informace</span><span class="sxs-lookup"><span data-stu-id="0fd40-195">• Information</span></span> |<span data-ttu-id="0fd40-196">• Aktivní ceny kategorií zdrojů</span><span class="sxs-lookup"><span data-stu-id="0fd40-196">• Active Resource Category Prices</span></span><br> <span data-ttu-id="0fd40-197">• Přidružené zobrazení cen kategorií zdrojů</span><span class="sxs-lookup"><span data-stu-id="0fd40-197">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="0fd40-198">Přirážka ceny role</span><span class="sxs-lookup"><span data-stu-id="0fd40-198">Role Price Markup</span></span>|<span data-ttu-id="0fd40-199">• Informace</span><span class="sxs-lookup"><span data-stu-id="0fd40-199">• Information</span></span>|<span data-ttu-id="0fd40-200">• Aktivní přirážky ceny role</span><span class="sxs-lookup"><span data-stu-id="0fd40-200">• Active Role Price Markup</span></span><br><span data-ttu-id="0fd40-201">• Přidružené zobrazení přirážek ceny role</span><span class="sxs-lookup"><span data-stu-id="0fd40-201">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="0fd40-202">Podrobnosti řádku nabídky</span><span class="sxs-lookup"><span data-stu-id="0fd40-202">Quote line detail</span></span>|<span data-ttu-id="0fd40-203">• Informace o projektu</span><span class="sxs-lookup"><span data-stu-id="0fd40-203">• Project Information</span></span><br><span data-ttu-id="0fd40-204">• Vytvořit projekt</span><span class="sxs-lookup"><span data-stu-id="0fd40-204">• Project Quick Create</span></span>|<span data-ttu-id="0fd40-205">• Aktivní podrobnosti řádků nabídek</span><span class="sxs-lookup"><span data-stu-id="0fd40-205">• Active Quote Line Detail</span></span><br><span data-ttu-id="0fd40-206">• Sloučené podrobnosti řádků objednávek</span><span class="sxs-lookup"><span data-stu-id="0fd40-206">• Combined Quote Line Details</span></span><br><span data-ttu-id="0fd40-207">• Přidružené zobrazení podrobností řádků nabídek</span><span class="sxs-lookup"><span data-stu-id="0fd40-207">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="0fd40-208">Podrobnosti řádku projektové smlouvy</span><span class="sxs-lookup"><span data-stu-id="0fd40-208">Project Contract line detail</span></span>|<span data-ttu-id="0fd40-209">• Informace o projektu</span><span class="sxs-lookup"><span data-stu-id="0fd40-209">• Project Information</span></span><br><span data-ttu-id="0fd40-210">• Vytvořit projekt</span><span class="sxs-lookup"><span data-stu-id="0fd40-210">• Project Quick Create</span></span>|<span data-ttu-id="0fd40-211">• Sloučené podrobnosti řádků smluv</span><span class="sxs-lookup"><span data-stu-id="0fd40-211">• Combined Contract Line Details</span></span><br><span data-ttu-id="0fd40-212">• Aktivní podrobnosti řádků smluv</span><span class="sxs-lookup"><span data-stu-id="0fd40-212">• Active Contract Line Details</span></span><br><span data-ttu-id="0fd40-213">• Přidružené zobrazení podrobností řádků smluv</span><span class="sxs-lookup"><span data-stu-id="0fd40-213">• Contract Line Details Associated View</span></span>|
|  <span data-ttu-id="0fd40-214">Projektový úkol</span><span class="sxs-lookup"><span data-stu-id="0fd40-214">Project Task</span></span>|<span data-ttu-id="0fd40-215">• Informace</span><span class="sxs-lookup"><span data-stu-id="0fd40-215">• Information</span></span><br><span data-ttu-id="0fd40-216">• Nový formulář</span><span class="sxs-lookup"><span data-stu-id="0fd40-216">• New Form</span></span>||
|  <span data-ttu-id="0fd40-217">Člen projektového týmu</span><span class="sxs-lookup"><span data-stu-id="0fd40-217">Project Team Member</span></span>|<span data-ttu-id="0fd40-218">• Informace</span><span class="sxs-lookup"><span data-stu-id="0fd40-218">• Information</span></span><br><span data-ttu-id="0fd40-219">• Nový formulář</span><span class="sxs-lookup"><span data-stu-id="0fd40-219">• New Form</span></span>|<span data-ttu-id="0fd40-220">• Aktivní členové projektových týmů</span><span class="sxs-lookup"><span data-stu-id="0fd40-220">• Active Project Team Members</span></span><br><span data-ttu-id="0fd40-221">• Členové projektových týmů</span><span class="sxs-lookup"><span data-stu-id="0fd40-221">• Project Team Members</span></span><br><span data-ttu-id="0fd40-222">• Přidružené zobrazení členů projektových týmů</span><span class="sxs-lookup"><span data-stu-id="0fd40-222">• Project Team members associated View</span></span>|
|  <span data-ttu-id="0fd40-223">Časový záznam</span><span class="sxs-lookup"><span data-stu-id="0fd40-223">Time Entry</span></span>|<span data-ttu-id="0fd40-224">• Informace</span><span class="sxs-lookup"><span data-stu-id="0fd40-224">• Information</span></span><br><span data-ttu-id="0fd40-225">• Vytvořit časový záznam</span><span class="sxs-lookup"><span data-stu-id="0fd40-225">• Create Time Entry</span></span>|<span data-ttu-id="0fd40-226">• Moje časové záznamy podle data</span><span class="sxs-lookup"><span data-stu-id="0fd40-226">• My Time Entries By Date</span></span><br><span data-ttu-id="0fd40-227">• Moje časové záznamy za tento týden</span><span class="sxs-lookup"><span data-stu-id="0fd40-227">• My time Entries for this week</span></span><br><span data-ttu-id="0fd40-228">• Časové záznamy ke schválení</span><span class="sxs-lookup"><span data-stu-id="0fd40-228">• Time entries for approval</span></span>|
|  <span data-ttu-id="0fd40-229">Řádek deníku</span><span class="sxs-lookup"><span data-stu-id="0fd40-229">Journal Line</span></span>|<span data-ttu-id="0fd40-230">• Informace</span><span class="sxs-lookup"><span data-stu-id="0fd40-230">• Information</span></span><br><span data-ttu-id="0fd40-231">• Vytvořit</span><span class="sxs-lookup"><span data-stu-id="0fd40-231">• Quick create</span></span>|<span data-ttu-id="0fd40-232">• Aktivní řádky deníků</span><span class="sxs-lookup"><span data-stu-id="0fd40-232">• Active journal lines</span></span><br><span data-ttu-id="0fd40-233">• Přidružené zobrazení řádků deníků</span><span class="sxs-lookup"><span data-stu-id="0fd40-233">• Journal Line associated view</span></span>|
|  <span data-ttu-id="0fd40-234">Podrobnosti řádku faktury</span><span class="sxs-lookup"><span data-stu-id="0fd40-234">Invoice Line Detail</span></span>|<span data-ttu-id="0fd40-235">• Informace</span><span class="sxs-lookup"><span data-stu-id="0fd40-235">• Information</span></span><br><span data-ttu-id="0fd40-236">• Vytvořit</span><span class="sxs-lookup"><span data-stu-id="0fd40-236">• Quick create</span></span>|<span data-ttu-id="0fd40-237">• Aktivní podrobnosti řádků faktur</span><span class="sxs-lookup"><span data-stu-id="0fd40-237">• Active Invoice Line Details</span></span><br><span data-ttu-id="0fd40-238">• Účtovatelné fakturační transakce</span><span class="sxs-lookup"><span data-stu-id="0fd40-238">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="0fd40-239">• Neplacené fakturační transakce</span><span class="sxs-lookup"><span data-stu-id="0fd40-239">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="0fd40-240">• Přidružené zobrazení podrobností řádků faktur</span><span class="sxs-lookup"><span data-stu-id="0fd40-240">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="0fd40-241">• Neúčtovatelné fakturační transakce</span><span class="sxs-lookup"><span data-stu-id="0fd40-241">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="0fd40-242">Skutečnost</span><span class="sxs-lookup"><span data-stu-id="0fd40-242">Actual</span></span>|<span data-ttu-id="0fd40-243">• Informace</span><span class="sxs-lookup"><span data-stu-id="0fd40-243">• Information</span></span><br><span data-ttu-id="0fd40-244">• Aktivní skutečnosti</span><span class="sxs-lookup"><span data-stu-id="0fd40-244">• Active Actuals</span></span>|<span data-ttu-id="0fd40-245">• Přidružené zobrazení skutečností</span><span class="sxs-lookup"><span data-stu-id="0fd40-245">• Actual Associated view</span></span>|

<span data-ttu-id="0fd40-246">V závislosti na tom, co jste definovali, může být také nutné přidat vlastní pole do obchodních pravidel.</span><span class="sxs-lookup"><span data-stu-id="0fd40-246">Custom fields may also need to be added on business rules depending on what you have defined.</span></span> <span data-ttu-id="0fd40-247">Jeden z těchto připravených příkladů je pro obchodní pravidlo **Upravitelnost časového záznamu na základě stavu**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-247">One out-of-the-box example is for the business rule **Editability of Time Entry based on status**.</span></span> <span data-ttu-id="0fd40-248">Toto pravidlo definuje, která pole je třeba uzamknout, pokud je Časový záznam v neupravitelném stavu, jako je např. **Schválen**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-248">This rule defines which fields need to be locked when the Time Entry is in a non-editable status such as **Approved**.</span></span> <span data-ttu-id="0fd40-249">Přidejte pole do tohoto obchodního pravidla tak, aby byla tato pole uzamčena pro úpravy, pokud je Časový záznam v jiném stavu než **Koncept** nebo **Vrácen**.</span><span class="sxs-lookup"><span data-stu-id="0fd40-249">Add fields to this business rule so that the fields are locked for editing when the Time Entry is in a status other than **Draft** or **Returned**.</span></span>
